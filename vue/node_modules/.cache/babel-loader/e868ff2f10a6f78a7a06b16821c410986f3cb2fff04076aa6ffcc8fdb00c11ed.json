{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nexport default function authMiddleware(router) {\n  let token = sessionStorage.getItem('Token');\n  console.log(\"TOKEN:\", token);\n  router.beforeEach((to, from, next) => {\n    if (to.matched.some(record => record.meta.requiresAuth)) {\n      if (!token) {\n        return next({\n          path: '/login'\n        });\n      } else {\n        return next();\n      }\n    } else if (to.matched.some(record => record.meta.isGuest)) {\n      if (token) {\n        return next({\n          path: '/admin/overview'\n        });\n      } else {\n        return next();\n      }\n    }\n  });\n}","map":{"version":3,"names":["jwt_decode","authMiddleware","router","token","sessionStorage","getItem","console","log","beforeEach","to","from","next","matched","some","record","meta","requiresAuth","path","isGuest"],"sources":["/var/www/html/PRESTO/vue/src/auth.js"],"sourcesContent":["import jwt_decode from 'jwt-decode'\n\nexport default function authMiddleware(router) {\n    let token = sessionStorage.getItem('Token');console.log(\"TOKEN:\", token);\n\n    router.beforeEach((to, from, next) => {\n        if(to.matched.some(record => record.meta.requiresAuth)){\n            if (!token) {\n                return next({path: '/login'});\n            }\n            else{\n                return next();\n            }\n        }\n        else if (to.matched.some(record => record.meta.isGuest)) {\n            if (token) {\n                return next({path: '/admin/overview'});\n            }\n            else{\n                return next();\n            }\n        }\n    \n    \n    // let userId = sessionStorage.getItem('UserID');\n    })\n}"],"mappings":"AAAA,OAAOA,UAAU,MAAM,YAAY;AAEnC,eAAe,SAASC,cAAcA,CAACC,MAAM,EAAE;EAC3C,IAAIC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAACC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEJ,KAAK,CAAC;EAExED,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;IAClC,IAAGF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,CAACC,YAAY,CAAC,EAAC;MACnD,IAAI,CAACb,KAAK,EAAE;QACR,OAAOQ,IAAI,CAAC;UAACM,IAAI,EAAE;QAAQ,CAAC,CAAC;MACjC,CAAC,MACG;QACA,OAAON,IAAI,CAAC,CAAC;MACjB;IACJ,CAAC,MACI,IAAIF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,CAACG,OAAO,CAAC,EAAE;MACrD,IAAIf,KAAK,EAAE;QACP,OAAOQ,IAAI,CAAC;UAACM,IAAI,EAAE;QAAiB,CAAC,CAAC;MAC1C,CAAC,MACG;QACA,OAAON,IAAI,CAAC,CAAC;MACjB;IACJ;EAIJ,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}